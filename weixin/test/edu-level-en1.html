<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Swiper demo</title>
  <!--<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">-->
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <link rel="icon" type="image/png" href="assets/amazeui/i/favicon.png">
  <!-- Link Swiper's CSS -->
  <link rel="stylesheet" href="assets/swiper/css/swiper.min.css" type='text/css'>
  <link rel="stylesheet" href="http://cdn.clouddeep.cn/amazeui/1.0.1/css/amazeui.min.css" type='text/css'>

  <link rel='stylesheet' id='bootstrap-css'  href='http://www.fontawesome.com.cn/wp-content/themes/deeptimes/assets/bootstrap/css/bootstrap.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='font-awesome-css'  href='http://www.fontawesome.com.cn/wp-content/themes/deeptimes/fonts/font-awesome/css/font-awesome.min.css' type='text/css' media='all' />

  <!-- Demo styles -->
  <style>
  @font-face { 
	font-family: STKAITI; /*这里是说明调用来的字体名字*/ 
	src: url('front/STKAITI.TTF'); /*这里是字体文件路径*/ 
    }
	* { touch-action: pan-y; } 
	@media screen and (orientation: landscape){
	　body{background:#000}
	}
	@media (orientation: portrait) { 
		body { transform: rotate(90deg); }
	} 
	
    html, body {
      position: relative;
      height: 100%;
    }
    body {
      background: #eee;
      font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
      font-size: 14px;
      color:#000;
      margin: 0;
      padding: 0;
    }
    .swiper-container {
      width: 100%;
      height: 100%;
    }
    .swiper-slide {
      text-align: center;
      font-size: 18px;
      background: #fff;

      /* Center slide text vertically */
      display: -webkit-box;
      display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;
      -webkit-box-pack: center;
      -ms-flex-pack: center;
      -webkit-justify-content: center;
      justify-content: center;
      -webkit-box-align: center;
      -ms-flex-align: center;
      -webkit-align-items: center;
      align-items: center;
    }
    .swiper-pagination-bullet {
      width: 20px;
      height: 20px;
      text-align: center;
      line-height: 20px;
      font-size: 12px;
      color:#000;
      opacity: 1;
      background: rgba(0,0,0,0.2);
    }
    .swiper-pagination-bullet-active {
      color:#fff;
      background: #007aff;
    }
	
	
	.main-front{

	}
	 .clear{
        clear:both;
    }
	.right {
            background-color: #808080;
            width: 150px;
            float: right;
        }
  </style>
</head>
<body ontouchstart>
  <!-- Swiper -->
  <div class="swiper-container">
    <div class="swiper-wrapper">
		<script type="text/template" id="myTemplate">
		{{#each result}} 
		  <div class="swiper-slide">
			
			<div class="" style="background-color:#4d9250;width: 100%;height: 100%; padding: 50px 20px;">
				
				<div style="float:left; width:50%; " class="">
					<div>
						<img style="    padding: 0px 20px;;" src="p1.png"/>
					</div>
				</div>
				<div style="margin-left:50%; width:50%; ">
					<span style="font-size: 30px;">{{en}}</span>
					<span style="padding-left:15px; font-size: 24px;">
						<a href="javascript:void(0);" data-url="http://appcdn.fanyi.baidu.com/zhdict/mp3/han4.mp3" class="mp3-play"><i class="fa fa-volume-up" aria-hidden="true"></i></a>
					</span>
				</div>
				<div class="clear"></div>
				<!--<div style="width:100%; position: absolute; bottom: 50px;" class="">
					<div>
						<span class="main-front">译：{{cn}}</span>
					</div>				
				</div>-->
			</div>
		  </div>
	  {{/each}}
		</script>
    </div>
    <!-- Add Pagination -->
    <div class="swiper-pagination"></div>
	
	<div id="fmp_flash_div" style="display:none"><audio id="audio"></audio></div>
  </div>
  

  <!-- Swiper JS -->
  
  <script src="assets/swiper/js/swiper.min.js"></script>
  <script src="../js/zepto.min.js"></script>
  
  <script src="https://cdn.bootcss.com/handlebars.js/4.2.0/handlebars.min.js"></script>

  <!-- Initialize Swiper -->
  <script>
   	$(function(){
		$(".mp3-play").on("click", function(){
			$("#audio").attr("src",  $(this).data("url"));
			console.log($("#audio").attr("src"));
			//myAuto.play();
			$('#audio').trigger('play');
			//$('video').trigger('pause');
		});
		
		$(document).on("click", ".main-content", function(){
			$(this).toggleClass('big-main-content');
			$(this).find("span.main-front").toggleClass('big-front');
		});
		
		
		$(document).on("click", ".inline-demo", function(){
			
			
			return false;
		});
		
		
	
	//cnletter('国', 100, 100);
	
	//中国、中间、中国、中间、中国、中间
	var data={result:[
	{en:'The rooster wakes up',mp3:'audio/80s_vibe.mp3',cn:'汉族,汉室,汉化'},
	{en:'The cow wakes up',mp3:'audio/80s_vibe.mp3',cn:'汉族,汉室,汉化'},
	{en:'The pig wakes up',mp3:'audio/80s_vibe.mp3',cn:'汉族,汉室,汉化'},
	{en:'The horse wakes up',mp3:'audio/80s_vibe.mp3',cn:'汉族,汉室,汉化'},
	{en:'The turkey wakes up',mp3:'audio/80s_vibe.mp3',cn:'汉族,汉室,汉化'},
	{en:'The sheep wakes up',mp3:'audio/80s_vibe.mp3',cn:'汉族,汉室,汉化'},
	{en:'The duck wakes up',mp3:'audio/80s_vibe.mp3',cn:'汉族,汉室,汉化'},
	{en:'And the chick wakes up',mp3:'audio/80s_vibe.mp3',cn:'汉族,汉室,汉化'}
	]};
	
	
	var tpl   =  $("#myTemplate").html();
	//预编译模板
	var template = Handlebars.compile(tpl);
	//匹配json内容
	var html = template(data);
	//输入模板
	$('.swiper-wrapper').html(html);
	
	var t = $(".main-front").first().text();
	
	
	 var swiper = new Swiper('.swiper-container', {
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
		//dynamicBullets: true,
        renderBullet: function (index, className) {
          return '<span class="' + className + '">' + (index + 1) + '</span>';
        },
      },
	  on: {
		slideChange: function(){
			var ele = $("#grid-background-target"+swiper.activeIndex);
			var init = ele.data("init");
			if(!init){
				var text = $(ele).parents('.swiper-slide').find('.main-content').find(".main-front").text();
				$(ele).data('init', '1');
			}
			$(ele).css('width', '200px');			
		}
	  }
    });
	
	});
	
  </script>
</body>
</html>
